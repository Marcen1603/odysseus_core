#PARSER CQL
#DROPALLQUERIES
#DROPALLSOURCES
#DROPALLSINKS
#QUERY 
DROP STREAM person IF EXISTS
#QUERY
CREATE STREAM person (timestamp STARTTIMESTAMP, id INTEGER, name STRING, email STRING, creditcard STRING, city STRING, state STRING) CHANNEL localhost : 65440
#QUERY 
DROP STREAM bid IF EXISTS
#QUERY
CREATE STREAM bid (timestamp STARTTIMESTAMP, auction INTEGER, bidder INTEGER, datetime LONG, price DOUBLE) 
    		WRAPPER 'GenericPush'
		    PROTOCOL 'SizeByteBuffer'
		    TRANSPORT 'NonBlockingTcp'
		    DATAHANDLER 'Tuple'
    		OPTIONS ('port' '65442', 'host' 'localhost')
#QUERY 
DROP STREAM auction IF EXISTS
#QUERY
CREATE STREAM auction (timestamp STARTTIMESTAMP, id INTEGER, itemname STRING, description STRING, initialbid INTEGER, reserve INTEGER, expires LONG, seller INTEGER, category INTEGER) CHANNEL localhost : 65441
#QUERY 
DROP STREAM category IF EXISTS
#QUERY
CREATE STREAM category (id INTEGER, name STRING, description STRING, parentid INTEGER) 
    		WRAPPER 'GenericPush'
		    PROTOCOL 'SizeByteBuffer'
		    TRANSPORT 'NonBlockingTcp'
		    DATAHANDLER 'Tuple'
    		OPTIONS ('port' '65443', 'host' 'localhost')
#QUERY
SELECT auction FROM bid;

#QUERY
SELECT auction FROM bid WHERE auction > 1000;

#QUERY
SELECT auction, price FROM bid WHERE auction=7 OR auction=20 OR auction=21 OR auction=59 OR auction=87;

#QUERY
SELECT P1.id AS ID1, P2.id AS ID2
FROM person AS P1, person AS P2
WHERE ID1=ID2;

#QUERY
SELECT auction FROM bid AS B, person AS P WHERE B.bidder = P.id;

#QUERY
SELECT C1.name FROM category AS C1 WHERE C1.id != 108;
SELECT C2.name FROM category AS C2 WHERE C2.id != 11;
SELECT C3.name FROM category AS C3 WHERE C3.id != 2222;

#QUERY
SELECT itemname FROM auction WHERE expires < TimeInterval.start;

