///OdysseusScript
#PARSER PQL
#DROPALLSOURCES
#DROPALLQUERIES
#ADDQUERY
json2 = ACCESS({
	source='json', 
	wrapper='GenericPull',
	transport='File',
	protocol='JSON',
	dataHandler='NestedKeyValueObject',
	options=[['filename','${BUNDLE-ROOT}\testdata\nestedMap\input.json']],
	schema=[['timestamp','STARTTIMESTAMP']]
})
mapped2 = MAP({kvExpressions = [['customer.id', 'kaeufer.id'],
								['sum/2', 'sum']
							]}, json2)

///SENDERjson = SENDER({
///	transport='File',
///	wrapper='GenericPush',
///	protocol='JSON',
///	dataHandler='NestedKeyValueObject',
///	SINK="SENDERjson",
///	options=[
///		['filename','${WORKSPACEPROJECT}\testdata\nestedMap\output.json'],
///		['json.write.metadata','true']
///	]}, mapped2)