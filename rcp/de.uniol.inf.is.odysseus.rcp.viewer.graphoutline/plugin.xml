<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension
            targetID="de.uniol.inf.is.odysseus.rcp.perspective.observer">
         <view
               closeable="true"
               id="de.uniol.inf.is.odysseus.rcp.viewer.GraphOutline"
               minimized="false"
               moveable="true"
               ratio="0.70"
               relationship="right"
               relative="org.eclipse.ui.editorss"
               showTitle="true"
               standalone="false"
               visible="true">
         </view>
      </perspectiveExtension>
   </extension>
   <extension
         point="org.eclipse.ui.views">
      <view
            allowMultiple="false"
            category="Odysseus"
            class="de.uniol.inf.is.odysseus.rcp.viewer.graphoutline.impl.GraphOutlinePart"
            icon="images/outline_co.gif"
            id="de.uniol.inf.is.odysseus.rcp.viewer.GraphOutline"
            name="Graph Outline"
            restorable="true">
      </view>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            locationURI="toolbar:de.uniol.inf.is.odysseus.rcp.viewer.GraphOutline">
         <command
               commandId="de.uniol.inf.is.odysseus.rcp.viewer.graphoutline.CollapseAll"
               icon="images/collapseall.gif"
               label="Collapse All"
               style="push">
         </command>
         <command
               commandId="de.uniol.inf.is.odysseus.rcp.viewer.graphoutline.ExpandAll"
               icon="images/expandall.gif"
               label="Expand All"
               style="push">
         </command>
         <command
               commandId="de.uniol.inf.is.odysseus.rcp.viewer.graphoutline.Refresh"
               icon="images/refresh.gif"
               label="Refresh"
               style="push">
         </command>
         <command
               commandId="de.uniol.inf.is.odysseus.rcp.viewer.graphoutline.ChangeSync"
               icon="images/synced.gif"
               label="Link with Editor"
               style="toggle">
         </command>
      </menuContribution>
      <menuContribution
            locationURI="popup:de.uniol.inf.is.odysseus.rcp.viewer.GraphOutline">
         <command
               commandId="de.uniol.inf.is.odysseus.rcp.viewer.graphoutline.CollapseAll"
               icon="images/collapseall.gif"
               label="Collapse All"
               style="push">
         </command>
         <command
               commandId="de.uniol.inf.is.odysseus.rcp.viewer.graphoutline.ExpandAll"
               icon="images/expandall.gif"
               label="Expand All"
               style="push">
         </command>
         <separator
               name="Seperator1"
               visible="true">
         </separator>
         <command
               commandId="de.uniol.inf.is.odysseus.rcp.viewer.graphoutline.ResetMetadata"
               icon="images/metaReset.png"
               label="Reset"
               style="push">
         </command>
         <command
               commandId="de.uniol.inf.is.odysseus.rcp.viewer.graphoutline.DeleteMetadata"
               icon="images/metaRemove.png"
               label="Delete"
               style="push">
         </command>
         <separator
               name="Seperator2"
               visible="true">
         </separator>
         <command
               commandId="de.uniol.inf.is.odysseus.rcp.viewer.graphoutline.Refresh"
               icon="images/refresh.gif"
               label="Refresh"
               style="push">
         </command>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            defaultHandler="de.uniol.inf.is.odysseus.rcp.viewer.graphoutline.command.CollapseAllCommand"
            id="de.uniol.inf.is.odysseus.rcp.viewer.graphoutline.CollapseAll"
            name="Collapse All">
      </command>
      <command
            defaultHandler="de.uniol.inf.is.odysseus.rcp.viewer.graphoutline.command.ExpandAllCommand"
            id="de.uniol.inf.is.odysseus.rcp.viewer.graphoutline.ExpandAll"
            name="Expand All">
      </command>
      <command
            id="de.uniol.inf.is.odysseus.rcp.viewer.graphoutline.ResetMetadata"
            name="Reset Metadata">
      </command>
      <command
            defaultHandler="de.uniol.inf.is.odysseus.rcp.viewer.graphoutline.command.RefreshCommand"
            id="de.uniol.inf.is.odysseus.rcp.viewer.graphoutline.Refresh"
            name="Refresh">
      </command>
      <command
            id="de.uniol.inf.is.odysseus.rcp.viewer.graphoutline.DeleteMetadata"
            name="Delete Metadata">
      </command>
      <command
            defaultHandler="de.uniol.inf.is.odysseus.rcp.viewer.graphoutline.command.ChangeSyncCommand"
            id="de.uniol.inf.is.odysseus.rcp.viewer.graphoutline.ChangeSync"
            name="ChangeSync">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="de.uniol.inf.is.odysseus.rcp.viewer.graphoutline.command.ResetMetadataCommand"
            commandId="de.uniol.inf.is.odysseus.rcp.viewer.graphoutline.ResetMetadata">
         <activeWhen>
            <reference
                  definitionId="isMonitoringData">
            </reference>
         </activeWhen>
      </handler>
      <handler
            class="de.uniol.inf.is.odysseus.rcp.viewer.graphoutline.command.DeleteMetadataCommand"
            commandId="de.uniol.inf.is.odysseus.rcp.viewer.graphoutline.DeleteMetadata">
         <activeWhen>
            <reference
                  definitionId="isMonitoringData">
            </reference>
         </activeWhen>
      </handler>
   </extension>
   <extension
         point="org.eclipse.core.expressions.definitions">
      <definition
            id="isMonitoringData">
         <with
               variable="selection">
            <iterate
                  ifEmpty="false"
                  operator="or">
               <instanceof
                     value="de.uniol.inf.is.odysseus.monitoring.IMonitoringData">
               </instanceof>
            </iterate>
         </with>
      </definition>
   </extension>
   <extension
         point="org.eclipse.ui.startup">
      <startup
            class="de.uniol.inf.is.odysseus.rcp.viewer.graphoutline.activator.Startup">
      </startup>
   </extension>

</plugin>
